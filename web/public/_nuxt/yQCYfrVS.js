import{_ as j,b as q,v as i,a9 as W,w as C,o as D,c as N,a as t,F as Q,p as Y,s as R,q as P,A as Z,O as ee,g as G,j as B,a2 as te,k as g,t as J}from"./DPLBeim1.js";import{a as le,u as se,c as O}from"./CENEsQq1.js";import{L as F,d as ne}from"./C5x6R2a_.js";import{C as ae}from"./Br6vISkq.js";import{l as z}from"./BdT36_8W.js";import{I as re}from"./B-tuEXrK.js";const ie={__name:"NavDots",props:{disable:Boolean},emits:["rollover"],setup(k,{expose:y,emit:h}){const s=q(),n=i(null),c=i([]),v=i([]),_=W(n),d=le(n),a=new Array(3).fill(null),b=o=>{c.value.forEach((f,x)=>{f.style.setProperty("--progress",o[x])})},u=()=>s.setNavOpen(!0);C(()=>[s.section1Progress,s.section2Progress,s.section3Progress],b),C(d,o=>m("rollover",o));const m=h;return y({el:n,size:_}),(o,f)=>(D(),N("div",{ref_key:"refRoot",ref:n,class:R(["navDots",{disable:k.disable}]),onClick:u},[f[1]||(f[1]=t("div",{class:"navDots__bg fill blurredBg"},null,-1)),(D(!0),N(Q,null,Y(P(a),(x,p)=>(D(),N("div",{ref_for:!0,ref_key:"refDots",ref:c,class:R(["navDots__dot",{active:p===P(s).activeSectionIndex}]),key:p},[f[0]||(f[0]=t("div",{class:"navDots__dotBg"},null,-1)),t("div",{ref_for:!0,ref_key:"refDotProgress",ref:v,class:"navDots__dotProgress"},null,512)],2))),128))],2))}},ce=j(ie,[["__scopeId","data-v-b0331775"]]),ue={class:"navPanel__title textCreditsM js-animEl"},pe={class:"navPanel__description textNavDescription js-animEl"},ve={class:"navPanel__description textLabelS js-animEl"},_e={class:"navPanel__description textLabelS js-animEl"},de={class:"navPanel__footer js-animEl"},fe={__name:"NavPanelAbout",setup(k,{expose:y}){const h=i(null),s=i(null),n={pOpen:0},c=q(),v=se(),_=i(!1),d=Z([]),a=W(h),b=ee({width:0,height:0});G(()=>{d.value=[...h.value.querySelectorAll(".js-animEl")].reverse(),B.set(d.value,{autoAlpha:0,y:-40,willChange:"transform"}),u(),m()});const u=({wPanel:p=a.width.value||0,hPanel:e=a.height.value||0,wInit:l=b.width||0,hInit:E=b.height||0}={})=>{const{pOpen:I}=n,U=p-l,r=e-E;let w=0,A=z(I,U,0),$=z(I,r,0),S=0;const L=v.value?1:1.2,T=v.value?0:1.2;v.value&&($=z(I,e,0),A=0);const M=`inset(${w}px ${S}px ${$}px ${A}px round ${L}rem ${L}rem ${T}rem ${T}rem)`;h.value.style.clipPath=M},m=()=>{v.value?s.value.setAttribute("data-lenis-prevent","true"):s.value.removeAttribute("data-lenis-prevent")};let o;const f=p=>(_.value=!0,o==null||o.kill(),o=B.timeline({onComplete:()=>_.value=p}).to(n,{pOpen:+p,duration:.8,ease:"power2.out",onUpdate:u}).to(d.value,{autoAlpha:+p,y:p?0:-40,duration:p?1.2:.5,ease:p?"power2.out":"power2.in",stagger:.03},0),d.value.reverse(),o),x=()=>c.setAboutOpen(!1);return C(v,m),C([a.height,a.width],u),te("Escape",x),y({updateClipPath:u,setOpen:f,tweens:n,sizeButton:b}),(p,e)=>(D(),N("div",{ref_key:"refRoot",ref:h,class:R(["navPanel navPanel--about blurredBg",{visible:_.value}])},[t("div",{ref_key:"refInner",ref:s,class:"navPanel__inner inner"},[g(ae,{class:"navPanel__close close",onClick:x}),t("h2",ue,J(P(O).navigation.title),1),t("p",pe,[g(F,{text:P(O).navigation.description1,"external-icon":!0},null,8,["text"])]),t("p",ve,[g(F,{text:P(O).navigation.description2},null,8,["text"])]),t("p",_e,[g(F,{text:P(O).navigation.description3},null,8,["text"])]),t("footer",de,[g(P(ne),{ref:"refLogo",class:"navPanel__logo",name:"getty-logo"},null,512),e[0]||(e[0]=t("p",{class:"navPanel__copyright"},"© J. Paul Getty Trust",-1))])],512)],2))}},he=j(fe,[["__scopeId","data-v-1f2ef6a1"]]),me={class:"navChapter__titleWrap"},ge={class:"navChapter__title textCreditsM"},Pe={ref:"refProgress",class:"navChapter__progress"},Ce={__name:"NavChapter",props:{index:{default:0},active:{default:0},title:{default:"Chapter 1"}},setup(k,{expose:y}){const h=i(null),s=i(null);return y({setProgress:c=>{s.value.style.transform=`scaleX(${c})`}}),(c,v)=>(D(),N("li",{ref_key:"refRoot",ref:h,class:R(["navChapter",{active:k.active}])},[t("div",me,[g(re,{index:k.index+1,active:k.active},null,8,["index","active"]),t("h3",ge,J(k.title),1)]),t("div",Pe,[t("div",{ref_key:"refProgressBar",ref:s,class:"navChapter__progressBar fill"},null,512)],512)],2))}},ke=j(Ce,[["__scopeId","data-v-07753be4"]]),be={class:"navPanel__chaptersTitle chaptersTitle textCreditsM js-animEl"},ye={class:"navPanel__chapters"},xe={class:"navPanel__footer js-animEl"},we={__name:"NavPanelChapters",emits:["chapterClick"],setup(k,{expose:y,emit:h}){const s=i(null),n=i(null),c={pOpen:0},v=[{title:O.section1.navTitle},{title:O.section2.navTitle},{title:O.section3.navTitle}],_=q(),d=se(),a=i(!1),b=i(null),u=Z([]),m=W(s),o=ee({width:0,height:0});G(()=>{const r=s.value.querySelectorAll(".navChapter");u.value=[...s.value.querySelectorAll(".js-animEl")],u.value.push(...r),B.set(u.value,{autoAlpha:0,y:40,willChange:"transform"}),f({wPanel:m.width.value,hPanel:m.height.value}),e()});const f=({wPanel:r=m.width.value||0,hPanel:w=m.height.value||0,wInit:A=o.width||0,hInit:$=o.height||0}={})=>{const{pOpen:S}=c,L=r-A,T=w-$;let M=z(S,T/2,0),V=z(S,T/2,0),K=z(S,L,0);const X=d.value?1:1.2,H=d.value?0:1.2;d.value&&(M=z(S,w,0),V=-100,K=0);const oe=`inset(${M}px 0 ${V}px ${K}px round ${X}rem ${X}rem ${H}rem ${H}rem)`;s.value.style.clipPath=oe},x=r=>b.value.forEach((w,A)=>w.setProgress(r[A])),p=r=>U("chapterClick",r),e=()=>{d.value?n.value.setAttribute("data-lenis-prevent","true"):n.value.removeAttribute("data-lenis-prevent")};let l;const E=r=>(a.value=!0,l==null||l.kill(),l=B.timeline({onComplete:()=>a.value=r}).to(c,{pOpen:+r,duration:.8,ease:"power2.out",onUpdate:f}).to(u.value,{autoAlpha:+r,y:r?0:40,duration:r?1.2:.5,ease:r?"power2.out":"power2.in",stagger:.03},0),u.value.reverse(),l),I=()=>_.setNavOpen(!1),U=h;return C(d,e),C(()=>[_.section1Progress,_.section2Progress,_.section3Progress],x),C([m.height,m.width],f),te("Escape",I),y({updateClipPath:f,setOpen:E,tweens:c,sizeButton:o}),(r,w)=>(D(),N("div",{ref_key:"refRoot",ref:s,class:R(["navPanel navPanel--chapters blurredBg",{visible:a.value}])},[t("div",{ref_key:"refInner",ref:n,class:"navPanel__inner inner"},[g(ae,{class:"navPanel__close close",onClick:I}),t("h2",be,J(P(O).navigation.chaptersTitle),1),t("ul",ye,[(D(),N(Q,null,Y(v,(A,$)=>g(ke,{ref_for:!0,ref_key:"refChapters",ref:b,class:"navPanel__chapter",index:$,key:$,title:A.title,active:P(_).activeSectionIndex===$,onClick:S=>p($)},null,8,["index","title","active","onClick"])),64))]),t("footer",xe,[g(P(ne),{ref:"refLogo",class:"navPanel__logo",name:"getty-logo"},null,512),w[0]||(w[0]=t("p",{class:"navPanel__copyright"},"© J. Paul Getty Trust",-1))])],512)],2))}},$e=j(we,[["__scopeId","data-v-4415aca3"]]),Ae=["theme"],Be={class:"nav__aboutWrap"},Oe={class:"nav__chaptersWrap"},De={__name:"Navigation",props:{useDots:{default:!0},theme:{default:"dark"}},emits:["chapterClick"],setup(k,{emit:y}){const h=i(!1),s=i(),n=i(),c=i(),v=i(),_=i(),d=W(_),a=q();G(()=>{C([v.value.size.width,v.value.size.height],([e,l])=>{n.value.sizeButton.width=e,n.value.sizeButton.height=l,n.value.updateClipPath()},{immediate:!0}),C([d.width,d.height],([e,l])=>{c.value.sizeButton.width=e,c.value.sizeButton.height=l,c.value.updateClipPath()},{immediate:!0})});const b=e=>{if(a.navOpen)return;const{tweens:l,updateClipPath:E}=n.value;B.killTweensOf(l),B.to(l,{pOpen:e?.015:0,duration:.8,ease:"power3.out",onUpdate:()=>E()})};let u;const m=e=>{h.value=e,u==null||u.kill(),u=B.timeline().add(n.value.setOpen(e),0).to(v.value.el,{alpha:+!e,duration:.6,ease:"power3.inOut"},e?0:.3)};let o;const f=e=>{h.value=e,o==null||o.kill(),o=B.timeline().add(c.value.setOpen(e),0).to(_.value,{alpha:+!e,duration:.4,ease:"power3.out"},e?0:.3)},x=()=>a.setAboutOpen(!a.aboutOpen);C(()=>a.navOpen,e=>{e&&a.setAboutOpen(!1),m(e)}),C(()=>a.aboutOpen,e=>{e&&a.setNavOpen(!1),f(e)});const p=y;return(e,l)=>(D(),N("div",{ref_key:"refRoot",ref:s,class:R(["nav",{open:h.value}]),theme:k.theme},[t("nav",Be,[t("button",{ref_key:"refBtnAbout",ref:_,class:"nav__btnAbout btnAbout",onClick:x},l[1]||(l[1]=[t("hr",null,null,-1),t("hr",null,null,-1)]),512),g(he,{ref_key:"refPanelAbout",ref:c},null,512)]),t("nav",Oe,[g($e,{ref_key:"refPanelChapters",ref:n,onOpen:m,onChapterClick:l[0]||(l[0]=E=>p("chapterClick",E))},null,512),g(ce,{ref_key:"refBtnDots",ref:v,class:"nav__dots",disable:P(a).disableNav,onRollover:b},null,8,["disable"])])],10,Ae))}},Te=j(De,[["__scopeId","data-v-7781ba9d"]]);export{Te as N};
