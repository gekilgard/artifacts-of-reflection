import{_ as x,J as f,A as w,v as y,w as F,o as p,c as d,t as _,q as c,F as I,k as L,a as s,s as h,j as B,n as P}from"./DPLBeim1.js";import{C as M}from"./Br6vISkq.js";import{u as R}from"./De0MQsoJ.js";import{u as S,c as k}from"./CENEsQq1.js";const T=a=>{const i=a.lastIndexOf("/");if(i===-1)return encodeURIComponent(a.normalize("NFC"));const l=a.substring(0,i+1),e=a.substring(i+1).normalize("NFC"),u=encodeURIComponent(e);return l+u},z={key:0,class:"creditsPopup__tutorial textLabelS"},N={class:"creditsPopup__imgWrap"},A=["href"],H=["src"],U={class:"creditsPopup__text textFootnote"},V={class:"creditsPopup__title"},W={class:"creditsPopup__credit"},j=["innerHTML"],q={__name:"CreditsPopup",props:{asset:{default:null}},emits:["close"],setup(a,{emit:i}){const l=a,m=f(()=>!!l.asset),e=w({}),u=S(),n=y(null);let t=null;F(()=>l.asset,async o=>{t==null||t.kill(),t=B.timeline({delay:o?.1:0}),o?(e.value=o,e.value.src&&(e.value.src=T(e.value.src)),await P(),t.fromTo(n.value,{alpha:0},{alpha:1,duration:.5},0),t.fromTo(n.value,{scale:.9},{scale:1,duration:1.5,ease:"power3.out"},0),await P(),b()):t.to(n.value,{alpha:0,scale:.9,duration:.3,ease:"power2.in",onComplete:()=>{e.value={}}})});const C=i,v=f(()=>{var r;if(!((r=e.value)!=null&&r.description))return null;const o=e.value.description.match(/href=['"]([^'"]+)['"]/);return o?o[1]:null}),{hoveringLink:g,refresh:b}=R(n,[e.value]);return(o,r)=>(p(),d("div",{ref_key:"refRoot",ref:n,class:h(["creditsPopup blurredBg",{active:m.value,"creditsPopup--tutorial":e.value==="tutorial"}])},[e.value==="tutorial"?(p(),d("p",z,_(c(u)?c(k).creditsPopup.tutorialMobile:c(k).creditsPopup.tutorial),1)):(p(),d(I,{key:1},[L(M,{class:"creditsPopup__close",onClick:r[0]||(r[0]=E=>C("close"))}),s("div",N,[s("a",{href:v.value?v.value:null,target:"_blank"},[s("img",{class:"creditsPopup__img",src:e.value.src},null,8,H)],8,A)]),s("div",U,[s("h2",V,_(e.value.title),1),s("h3",W,_(e.value.author),1),s("p",{class:"creditsPopup__description",innerHTML:e.value.description},null,8,j)]),s("div",{class:h(["creditsPopup__icon d-only",{show:c(g)}])},null,2)],64))],2))}},K=x(q,[["__scopeId","data-v-4a3acba9"]]);export{K as C};
