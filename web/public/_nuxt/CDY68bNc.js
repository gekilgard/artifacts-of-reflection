import{G as e,g as u}from"./DPLBeim1.js";const c=typeof window<"u",o={delta:0,timestamp:0};let i=0;const s={functions:[],isRunning:!1,addFunction(t){this.functions.indexOf(t)===-1&&(this.functions.push(t),this.start())},removeFunction(t){const n=this.functions.indexOf(t);n!==-1&&this.functions.splice(n,1),this.functions.length===0&&this.stop()},start(){!this.isRunning&&c&&(this.isRunning=!0,i=0,this.loop(performance.now()))},stop(){this.isRunning=!1},loop(t=0){i||(i=t),o.delta=t-i,o.timestamp=t,i=t,this.functions.forEach(n=>{n(o)}),this.isRunning&&requestAnimationFrame(n=>this.loop(n))}},a=t=>(e(()=>{s.removeFunction(t)}),u(()=>{s.addFunction(t)}),{start:()=>s.addFunction(t),stop:()=>s.removeFunction(t)});export{c as e,a as h};
